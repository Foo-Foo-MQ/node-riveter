/**
 * riveter - Mix-in, inheritance and constructor extend behavior for your JavaScript enjoyment.
 * Â© 2012 - Copyright appendTo, LLC 
 * Author(s): Jim Cowart, Nicholas Cloud, Doug Neiner
 * Version: v0.1.1
 * Url: https://github.com/a2labs/riveter
 * License(s): MIT, GPL
 */
(function(t,n){"object"==typeof module&&module.exports?module.exports=n(require("underscore")):"function"==typeof define&&define.amd?define(["underscore"],function(e){return n(e,t)}):t.riveter=n(t._,t)})(this,function(t){function n(n){return t.isArray(n)?"array":t.isDate(n)?"date":t.isRegExp(n)?"regex":typeof n}function e(t){var e=n(t);return o[e]?e:"*"}function r(n){return t.each(i.call(arguments,1),function(r){t.each(r,function(t,r){o[e(t)](n,r,t)})}),n}var o={"*":function(t,n,e){t[n]=e},object:function(t,n,e){t[n]=r(t[n]||{},e)},array:function(n,r,i){n[r]=[],t.each(i,function(t,i){o[e(t)](n[r],i,t)},this)}},i=Array.prototype.slice,u=function(){for(var t=i.call(arguments,0);t.length;)u.rivet(t.shift())};return u.rivet=function(t){t.hasOwnProperty("extend")||(t.extend=function(n,e,r){return u.extend(t,n,e,r)}),t.hasOwnProperty("compose")||(t.compose=function(){return u.compose.apply(this,[t].concat(i.call(arguments,0)))}),t.hasOwnProperty("inherits")||(t.inherits=function(n,e,r){return u.inherits(t,n,e,r)}),t.hasOwnProperty("mixin")||(t.mixin=function(){return u.mixin.apply(this,[t].concat(i.call(arguments,0)))}),t.hasOwnProperty("punch")||(t.punch=function(){return u.punch.apply(this,[t].concat(i.call(arguments,0)))})},u.inherits=function(n,e,o,i){i=i||{};var c,p=function(){},s=function(){e.apply(this,arguments)};return"object"==typeof n?(n.hasOwnProperty("constructor")&&(s=n.constructor),c=n):(s=n,c=n.prototype),u.rivet(s),i.deep?r(s,e,o):t.defaults(s,e,o),p.prototype=e.prototype,s.prototype=new p,i.deep?r(s.prototype,c,{constructor:s}):t.extend(s.prototype,c,{constructor:s}),s.__super=e,s.__super__=e.prototype,s},u.extend=function(t,n,e,r){return u.inherits(n,t,e,r)},u.compose=function(){var n=i.call(arguments,0),e=n.shift();u.rivet(e);var r=t.reduce(n,function(t,n){return n.hasOwnProperty("_preInit")&&t.preInit.push(n._preInit),n.hasOwnProperty("_postInit")&&t.postInit.push(n._postInit),n=n.mixin||n,t.items.push(n),t},{items:[],preInit:[],postInit:[]}),o=e.extend({constructor:function(){var n=i.call(arguments,0);t.each(r.preInit,function(t){t.apply(this,n)},this),e.prototype.constructor.apply(this,n),t.each(r.postInit,function(t){t.apply(this,n)},this)}});return u.rivet(o),t.defaults(o.prototype,t.extend.apply(null,[{}].concat(r.items))),o},u.mixin=function(){var n=i.call(arguments,0),e=n.shift();return u.rivet(e),t.defaults(e.prototype,t.extend.apply(null,[{}].concat(n))),e},u.punch=function(){var n=i.call(arguments,0),e=n.shift();return u.rivet(e),t.extend(e.prototype,t.extend.apply(null,[{}].concat(n))),e},u});